{
  "video_id": "2wDjPGsJGNk",
  "title": "Build A GoHighLevel App in 30 minutes!",
  "author": "BetterBots",
  "url": "https://www.youtube.com/watch?v=2wDjPGsJGNk",
  "transcript_length": 29635,
  "transcript": "hey what's up everybody it's quentin from capri ai i just wanted to make this tutorial for you guys today to show you just how awesome the new go high level developer api and portal really is so today we're going to create a simple uh tracking app time tracking app to keep track of how long it takes our clients to respond back to the leads that we're generating for them we're not going to have to write really any code there's going to be a little bit of copy and paste but i'll show you how to do the whole thing so let's go ahead and dive on in so to get set up now it's actually uh super easy you just come to marketplace.gohilevel.com and you'll click sign up and once you click sign up it'll have just a signup process for you to go through they'll issue you a new login and password and everything and that's it you get your own developer account and then once inside it'll look a little like this and you'll notice here i do have two different apps already built um or i'm sorry already listed on here one of them is our public app that we use for connecting dialogflow but the other one is one that i'm going to use for this tutorial so to create an app it's super simple all you do is create app put the name of it and then put if you want it to be private or not so since i already created one i'm not going to make another one i'll click on this you'll see i've gone ahead and added some scopes in here so the scopes uh which you can get a full list of them here in the link that it provides here it shows what you can and cannot do so i'm gonna take a quick second to explain what this means so you'll see i have conversationsmessage.readonly message.right contacts.readonly and contacts.right so basically what this means is because i have the conversations message read only scope i will receive a web hook notification a post request every time anything happens with a message inbound or outbound in any conversation in any subaccount that this app is connected to so if i want to be able to receive inbound and outbound notifications for every message that comes in or out of my account this is the scope that i would need message.right as you probably assume um makes it so that i can send an app as if i was a user without actually having to be logged in using the app credentials which we'll go over here just a little bit and then contacts read only and write pretty much the same thing just a different resource the resources contacts instead of conversations so that is what the scopes are for so for everything that you want to be notified about let's say you want to be notified every time somebody every time a an opportunity is created so every time an opportunity is created if you want the opportunity to be sent to your this application that we're building right now you'll click opportunities read only click add and that will add that scope to your app now the way that your app actually gets those notifications is through this webhook url right here i'm going to show you where to get that in just a minute but this webhook url will now receive post request api requests to every single time the conversation message has an update if it gets sent or if it gets received i will get a post request every time so with that being said let's go ahead and create our integromat scenario since we don't want to actually build a real app we're going to use integromat and we'll go from there all right so now that we have an app that is subscribed to a couple of events let's go ahead and give it somewhere to send that data so here we're going to go ahead and add the web hooks module so if you just click here down the bottom type webhooks on that there we're going to click on custom web hook to uh when it receives data i already have one here but if you don't have one yet all you got to do is click add you can leave this blank click save and then it should give you a url just like this and so you're going to copy that address we're going to go back on over to our app here put that address right here and we're going to save that so now as soon as i add this application to one of the sub accounts that i want to use this for i will start seeing the events be sent to that url so the next step is how can i actually add a sub account uh to this app how can i let this app be connected to a sub account and that is where redirect urls come in so that is what this next step is going to be we're going to show how to use these redirect urls to actually get a access code and a token and then from there we can use that token to do anything that we want so let's go ahead and set up our redirect urls all right so the easiest way to show you how to get this uh oauth redirect urls stuff taken care of is without having to write too much code is to actually just use one of their funnels this takes care of all of the basic boilerplate html and stuff so you don't have to worry about anything with that so let's go ahead and add i created a new funnel let's go ahead and add a new step this step is just going to be the home page and it can just be that and we're going to create that final step let's go ahead and edit that this is going to be very very simple full width one row with one column one element and it's just going to be a big button and in this button let's put some wording let's say uh click to connect your app perfect so let's preview that let's just see how that looks great super simple now what we need to do because oauth is a two-step process we actually do have to add a little bit of custom code in here if you want to know more about it i'll make another video about what the code is actually doing but for now i'm going to link the github repo in this video so that you can just copy and paste the code but basically what we're doing is on this button you can see that here we have open pop-up as the action but what we want to do is we want to redirect to the go high-level oauth marketplace url and so i'll show you what that looks like here all right so i've gone ahead and pasted uh the first part of the url that we need to redirect them to here so it's marketplace oauth let's see if i can get a view of it so it's marketplace oauth uh choose location and then the response type is going to be code um the redirect uri now this part is important is important because this redirect uri can only be one of the uh one of the urls that you add here so let's say i wanted to add just my main website here i'm gonna go ahead and just add hbs free ai.us so this is going to be where they go after they click on that after they click on that button so now back in the funnel builder here we're going to now that we have that url updated and it is authorized now we're going to put hps click free ai.us because that was what i where i said it needed to go now after you've put the redirect url the next part of the query param here is going to be and client id equals and this client id is going to be your app client id and so where you get that from is if you go here you'll see you can add client keys here so i'm going to go ahead and add a key client id secret pair and then you'll see that they'll be listed right here and now i've got a client id and a client secret now when you go to create this one very important thing to remember is that they will only show you the client secret once and that's for security purposes so whenever you go to add this make sure you copy your client secret key keep it somewhere secure because you will need it whenever you want to refresh a token or do anything that involves the oauth client access so now that we have our client id we're going to go ahead and we're going to put this client id at the end of our url here so we're going to go here we're going to add client id just like that and now the last part of the url here is going to be the scopes that you're requesting so we're going to put and scope equals now this needs to be a list and it's kind of weird but there does need to be a space in between each scope that you have permission for so i'm going to go back to my app i'm going to look at what scopes i do have access for so i have conversation message read only so i'm going to go ahead and put that as a scope that i want so here at the end i'm just going to put message read only and then if i want to add another scope i'm actually going to put a space there which i know seems wrong but just trust me um so i'll put all of that there i'll put each scope that i want all right so now that i've got my scopes in here i've got my url ready i'm going to click preview and what this is going to do is this is going to pull up that page that i just was working on and i'll click the button and you can see it used our client id used our redirect uri used everything and it pulled up all of the accounts that i have for the currently signed in user so these are all of the accounts that i am able these are all my go high level accounts essentially and so if i were to choose one of the accounts that i wanted to just test with let's say i do this one so now you can see where did i get redirected to right back to where i told it to and you can see here in the url i do have a code parameter uh and that is how i will be getting the token so let me show you how to do that but that's just the first part of the oauth process all right so i said oauth is a two-step process we have done the first uh step so far so now what we're gonna do is we're gonna go on back to our funnel builder here and we're actually going to add another page and this page the reason that we're going to add another page i'll show you in just a second if you remember at the end of that one i'm sorry if you remember at the end of the first one it put a code in the top of the url parameter so what we need to do is we actually need to get that code and exchange it using our client id client secret and all that information so like i said this will involve a little bit of code i've linked the github repo in the description it'll show you it'll have all of the code written for you you won't have to do anything so in this i'm just adding two elements i'm going to add another one and then this one is just going to be a headline and it's just going to say uh success that has been added to location perfect and so now when they land on this page this script is going to run and the code is going to be in the url we're going to make an exchange for it and then next thing you know you will have a token so let me show you how to do that really quick so if we look at what the code is that i posted you'll notice there's a couple things you need to change out in here so where it says your web hook url here you need to put uh the integromat url for now or you can put any other url you want to receive if you're a little bit more advanced but if this is your first time dealing with any kind of code or anything like that for right now we'll just go ahead and put the webhook url so i'll go back to here i'll copy that go back to the builder and if i can find where i was i will replace that with that url just like that so that's the only thing you should have to change in there and uh the last thing that we're going to do so that we can actually get the user to be redirected back to this page we're going to come right on back here and we're going to click on this little button here to actually launch this page and then we're going to take that url and we're gonna go put it in right in here so we're gonna go ahead you can either replace the one you put or you can just add that one um and then back here in our home page we're gonna need to edit that button so that it also has that redirect uri as a parameter so let's go back to our url here let's find where it says what the redirect uri is supposed to be and oops let's change that up all right so i've got out i've got my redirect uri changed here to the next page in the funnel that i want it to go and so now i'm going to make sure that is saved and we'll go ahead and test it out so if i go to preview and i go to click to connect your app and then from here i would just choose any of them and perfect now i got added now i got redirected back to my app has been added to location page and you can see that i did get a code in the uri which is what i needed so let's go on back to our integromat scenario and let's make sure that it was listening and let's do it again perfect now that it was actually listening we'll see that it did successfully determine the data structure in integromat so now we're going to click ok and we're going to add our next module and for this next module we are going to make this a router so let's go ahead and put a router in here sorry flow control i guess is the right thing to do and we're going to put router and in this router oops i added too many extra in this router we're going to basically check what is in the request body so when we get this request here to integromat we should have a client token location id and refresh token in that request payload so let me show you so if we look at what our router is actually routing to if we look at the filter that i put on here the condition is that the code exists in the body right so it knows that there is a code in the body that got sent and so if the code exists that means we know that we're receiving a new code and so we need to do something with that code so in response to getting that code we are going to make a http request and so to do that to find the url you can just go back to those high level spotlight session or i'm sorry spotlight docs i was showing you go to the oauth and then it's going to be the first one that i showed you the oauth slash token so this is the url that we need to make a post request to if i can copy it so we'll go ahead to our integromat scenario and we will put that url make sure we have the h in there so now this is going to send to that url and so on a couple of important things uh the first thing is on the body type here this has to be application x www form url encoded so you gotta choose that and then for the fields you can just follow what they have here so you got to put the client id so the client id is going to be what's listed in your marketplace keys section and then the client secret is going to be what i told you to copy earlier and so we're going to put those in the url parameters so we're going to call on let me build this out for you all right so the parameters you need you need client id which you got from your marketplace grant type is in this case is going to be authorization code and then the code is going to be what we got from our original web hook the code that came in the request body now you do need one more parameter as the client secret i don't want to show that in this video but you'll all you'll do is you'll just add client secret here and then you'll just put what your client secret value is so i'm gonna go ahead and add that pause the video and then come back uh so we can go ahead and test this all right so now that we have everything set up let's make sure by the way i didn't mention make sure that this is a post request it'll default to a get request make sure this is a post request and make sure that you do select response i'm sorry parse response so that way it will be a nice pretty json object when it's done so let's make sure this is working let's go ahead and click run once so now this is listening for a web hook request so let's go on back to the simple page that we built let's click on the button and let's choose which account we want i'm gonna do this testing account and now that app has been added to that location so success we did that let's go back to integromat and look yep looks like our scenario run was completed so if we look at the response here on the very last step of our scenario we'll notice that here in the data we do have an access token and a refresh token so congratulations that exchange process officially adds that location to your app so now any scopes that you have requested here you are now going to start receiving web hook requests to the url that you have registered which in our scenario is actually this url so that is really all you need to do to get it so that your location is connected to the account or i'm sorry to the app now if you don't plan on doing anything with this token in the future so if you don't plan on making any api calls that require this or sending any messages or doing anything that requires an access token you can just leave it here and as long as that exchange process happens then on go high levels back end your app is registered with that location so you don't have to do anything else it's good you'll start receiving api calls to this url for that location as soon as this exchange process is done now speaking of getting data our goal with this project is to is to do a time tracker response tracker we want to track how long does it take from when a new user sends a message to the time that one of our users of go high level responds back to that potential lead that's what we want to track because we know that our clients are not keeping up as they should so we want to be able to give them a visual representation of just how long they're taking to get back to the clients so that's what we're going to do today with google sheets and let's go ahead and get started on that all right so now that we have our oauth process complete uh we're going to keep it clean and we're actually going to go back and create a new scenario and the the easiest way just to go here click create new scenario and this one is also going to be triggered off of a web book and it's going to be a custom web hook so go here and actually we're going to add a new web hook so this is going to be message received so we're going to save that and it needs to determine the data structure so for it to be able to determine the data structure we're going to copy this address to the clipboard we're going to go back to our marketplace sorry not there we're going to go back to our marketplace dashboard and we're actually going to change out this webhook url for that one and there we go so now our web hook url is changed out it doesn't matter that uh we have the other web hook url for the oauth exchange because this is where it's going to be sending everything so now to get it to redetermine the data structure again i'm going to go back here send myself a quick message and then i'm going to come back here and we should see that it successfully determined the body structure so let's go ahead and click ok add another module and we're actually going to be adding a router so flow control and this is going to be a router and so the router here uh we're going to have four different conditions all right so the four different conditions are going to be if this is a new contact if this is an existing contact if it's inbound or if it's outbound so we actually are going to set another filter before this i'm sorry another step before this router that's going to be uh actually to search the google sheet for the contact id that came in so let me just correct this really quick before we do all of that we're gonna add we're gonna add sheets so we're gonna go to google oops all right so we're going to add google sheets and we're going to actually search a row so what we're going to do here is we are going to choose that sheet that i made specifically for tracking inbound and outbound response time so it's gonna be master response time tracker uh and then the sheet is going to be conversation so take a look at what that sheet looks like we have two pages here we've got the main one here that tracks all of the inbound and outbound messages and then of course we have the main page which is actually going to show uh all of our numbers that we want to show to our client so the first thing we're going to do is we're going to search from a to z we actually sorry we want to search from a to zz and we want to see if the contact id is equal to the contact id that we just received that request for so we're going to search those sheets and then from here we're going to add a project so let's go ahead and click flow control click router uh and then we're gonna add some conditions here so the first condition this is going to be adding a google sheet row so we're going to add a row and we want to make sure that we only go on this path if it's a new contact and it's in fact i'm sorry outbound so let's say we got a new contact outbound the permission for this is going to be that contact id does not exist so if the contact id does not exist because that contact is not in there then we are going to we are going to update a row so i'm sorry we're going to create a new row so we're going to go ahead choose that master data tracking sheet again and then we're going to create a new row so in conversations we're going to add the contact id value as the one we received in the web hooks of course this is a really long search so it's going to be the contact id the latest inbound is going to be the timestamp i'm sorry this is going to be latest outbound because this route is only for new contacts outbound so we're going to go ahead and put the date added here and then we're going to click ok so that is for new contact outbound messages so if the outbound message is sent from go high level to a contact that we're not tracking the response time for yet we'll go ahead and add that sheet here then if we do find a contact so let's say this is also an outbound message it's going to be an existing contact outbound so if in this condition the contact id is going to exist and the message direction this direction here is going to be equal to output now we know that it's an existing contact and it's outbound let's make sure so contact id does not exist and the body the direction of the message is going out so equal to now if the direction is outbound and the contact id does not exist we're going to create a new row otherwise we are going to simply update a row so we're going to update a row and update to choose the row that we're going to update make sure we go back to the right form and we're going to choose conversations and the row number is actually going to be from the row number that we found here and the only thing we're going to be changing here is the latest outbound message timestamp which of course is coming from the request body down here so we'll click date and that will be it so we'll update that row and then we're just gonna have to add uh two more uh routes for inbound messaging but for right now let's just keep it on outbound so let's just go ahead and run this once and i'm going to go back and i'm going to make sure that i'm deleted and i'm going to send myself a message so i'm going to say so as long as this web hook is listening i'll come back here and i will send myself a quick message so i sent myself a message let's go back to the integromat scenario and let's see what it followed so we see that we did get a request it has all the information we need we did get we did search and see that this contact does not yet exist so direction is equal to outbound and the contact id does not exist so we went ahead and added a row so let's go check here we can see here that this is the row this is a testing row that i put in earlier but this is the most updated one so now let's run it again and just make sure that our filter is going to work to make sure that if i send myself a message again hello there it should be received yet again and you'll see that this time now this filter did not run because contact id did in fact exist so in this time it did a google sheets update command so it updated that row and updated to the most recent time stamp and you'll realize that this time stamp it says 2100 that's 9 pm it's because this is in gmt so that's 5 hours ahead of my local standard time but whenever you're doing math on any of these you know addition or subtraction of time uh it's independent of time zones we're just looking for a duration so not a big deal so we know that that is working now so now all we need to do is just add two more routes so that it will update on inbound messages as well and we will be good to go all right so we've got out we've now got our four scenarios here if it's a new contact and it's outbound an existing contact and it's outbound a new contact inbound or an existing contact inbound so these are the four scenarios that we're going to be trying to track to see how long it's taking for our clients to actually uh get back to the leads that we're generating for them so to make sure that we can actually get the inbound messages there is a little caveat if this is not a new go high level account this is a little bit older go high level account what you'll probably have to do is you'll have to go here to that sub account so of course go to your main account and then choose view all subaccounts and then search for the subaccount that you're actually testing with and then over here if you don't have anything pinned you'll have to click on explore products and then under all products you'll then have to click on phone numbers so i'll go ahead and pin that just in case but this this will show all the phone numbers for this sub account so then if i click on that phone numbers and i click on manage under here under active numbers and then i click on that number itself you'll see that i have the option to change where to send stuff when an incoming or outgoing message happens so right now this is all for voice and facts if you come down here to messaging this is for when a message comes in you'll see that it's set to message centered twilio slash incoming message so according to the go high level oauth docs the it actually needs to be changed to this url right here so services.messagecenter.com conversation slash provider slash twilio inbound and so that's a little bit different than what the just default url is so you'll need to change that so that it's receiving to that url instead so now when we click save on there we should be able to see that my contact still does not have a latest inbound timestamp but because i've now added that now that i've actually added that url for the inbound if i send myself a message say hey how are you so if i send myself a message to that url um it'll send back to that twilio number that twilio number will forward the message here just like this and then if we go back to our integromat scenario we should be able to actually make sure we have this turned on so you can see that this is actually turned off so i'm actually just going to click run once so that you can actually see we're actually going to go ahead and process that existing bundle and you can see that because it did receive that request even though it was down we'll go ahead and look and we can see that the contact id does exist so that means it was finding mine and it did go down this inbound route so it went existing contact inbound and so if i go back to my sheet it should have updated my latest inbound yep right here with my most recent message so now we are now receiving every inbound and outbound message we are able to track when the latest inbound and outbound message was for every contact in this sub account so if i i'm good how are you so it's still listening so if i send that message we should be able to see in our integromat scenario uh that the uh scenario is completed so let me go ahead and make sure i run this once process that existing again i received everything and then you can see it's an existing contact outbound so that is the route we expected it to take and that is the route that it took it updated this to the most recent time and then um i'm going to send another one great thanks and this time just to make sure you can see it make sure that this is running again so i'm gonna run this once and then i'm gonna send that message so i'm great thanks and then we should see that that request comes through here it might be a little bit of a delay on the high level side but yep there we go there's and there we go so it was an existing contact inbound which is exactly what we expected it to be so there you go now you are able to update your timestamps for your inbound and outbound messages in your google sheet and now over here we'll see that these will actually update we'll basically make these values dependent upon the average of all of the differences in the inbound and outbound messages and we'll also see how many are waiting for user reply versus contact reply and i'll make this in a different segment of the video but overall this is the total process of connecting an app to your go high level account so i'm going to link this sheet with the formulas for how to populate these cells it might be different based on uh you know just your use case so i'm going to link this sheet or a link to this sheet in the description of this video so you can get that template to work with um but overall this has been the process and i want to just give a huge shout out to the go high level developer team they did an awesome job with the marketplace and with the ability for developers to really extend go high level so if you have any other ideas or questions on what all you can do with the go high level marketplace and how you can actually add your own app please feel free to comment on this video and i'll make more in the future depending on what the most requested features are so that's all for now guys thanks for watching",
  "extracted_at": "2026-02-18T01:23:21.725326"
}