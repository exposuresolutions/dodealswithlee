<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DDWL &mdash; Careers</title>
<style>
/* GHL AGGRESSIVE RESET - NUCLEAR */
*:not(.container):not(.nav):not(.nav-inner):not(.hero):not(.card):not(.job-card):not(.job-header):not(.job-body):not(.job-tag):not(.form-group):not(.form-row):not(.btn):not(.btn-primary):not(.footer):not(.footer-inner):not(.stat):not(.culture-card):not(.modal):not(.modal-content):not(.toast):not(a):not(span):not(i):not(img):not(input):not(textarea):not(select):not(button):not(label):not(p):not(h1):not(h2):not(h3):not(h4):not(h5):not(h6):not(li):not(ul):not(ol):not(strong):not(em):not(b):not(small):not(br):not(table):not(tr):not(td):not(th){background-color:#0a0a0a!important}
html,body{background:#0a0a0a!important;margin:0!important;padding:0!important}
#preview-container,.hl-page-preview,.hl_page-preview,
[id*="preview"],[class*="preview"],[class*="page-"],[class*="hl_page"],
[class*="hl-wrapper"],[class*="hl-container"],[class*="hl-section"],[class*="hl-row"],[class*="hl-column"],
.c-editor,.c-editor-content,.hl-page-creator,
#section-0,#section-1,#section-2,#section-3,#section-4,#section-5,
#section-6,#section-7,#section-8,#section-9,#section-10,
.inner-section,.section-element,.row-element,.column-element,
div[data-page-element],
.page-wrapper,.site-wrapper,.content-wrapper,.hl-wrapper,
.row-fluid,.container-fluid,.body-wrapper,
div[style*="background: rgb(255"],div[style*="background-color: rgb(255"],
div[style*="background: white"],div[style*="background-color: white"],
div[style*="background:#fff"],div[style*="background-color:#fff"]{
background:#0a0a0a!important;background-color:#0a0a0a!important;
border-color:#0a0a0a!important;box-shadow:none!important}

*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:#0a0a0a;color:rgba(255,255,255,0.9);line-height:1.6;-webkit-font-smoothing:antialiased}
img{max-width:100%;height:auto}
a{color:#00e5ff;text-decoration:none}
a:hover{color:#40efff}
:root{
  --black:#0a0a0a;--dark:#111;--card:#161616;
  --primary:#00e5ff;--primary-light:#40efff;--primary-dark:#00b8d4;
  --accent:#ff6b00;--accent-light:#ff8533;
  --white90:rgba(255,255,255,0.9);--white70:rgba(255,255,255,0.7);
  --white50:rgba(255,255,255,0.5);--white20:rgba(255,255,255,0.2);
  --white10:rgba(255,255,255,0.1);--white05:rgba(255,255,255,0.05);
  --glass:rgba(255,255,255,0.08);
  --green:#28c840;--red:#ff5f57;--gold:#ffd700;
  --radius:12px;--radius-sm:8px;
}
.container{max-width:960px;margin:0 auto;padding:0 20px}

/* NAV */
.nav{position:sticky;top:0;z-index:100;background:rgba(10,10,10,0.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--white10);padding:12px 0}
.nav-inner{display:flex;align-items:center;justify-content:space-between}
.nav-logo{height:40px}
.nav-links{display:flex;gap:20px;align-items:center}
.nav-links a{color:var(--white70);font-size:0.9rem;font-weight:500;transition:color 0.3s}
.nav-links a:hover{color:var(--primary)}
.nav-badge{background:linear-gradient(135deg,var(--accent),var(--accent-light));color:#fff;font-size:0.72rem;font-weight:700;padding:4px 12px;border-radius:20px;letter-spacing:1px;text-transform:uppercase}

/* HERO */
.hero{text-align:center;padding:60px 0 40px}
.hero-badge{display:inline-block;background:var(--glass);border:1px solid var(--white10);padding:6px 16px;border-radius:20px;font-size:0.82rem;font-weight:600;color:var(--primary);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:20px}
.hero h1{font-size:clamp(2rem,5vw,3.2rem);font-weight:900;line-height:1.15;margin-bottom:16px}
.hero h1 span{background:linear-gradient(135deg,var(--primary),var(--primary-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero p{font-size:1.1rem;color:var(--white70);max-width:650px;margin:0 auto 24px}
.hero-stats{display:flex;justify-content:center;gap:32px;flex-wrap:wrap;margin-top:24px}
.hero-stat{text-align:center}
.hero-stat .num{font-size:1.5rem;font-weight:800;color:var(--accent)}
.hero-stat .label{font-size:0.78rem;color:var(--white50);text-transform:uppercase;letter-spacing:1px}

/* JOB CARDS */
.section{padding:40px 0}
.section-title{font-size:1.5rem;font-weight:800;margin-bottom:8px}
.section-sub{color:var(--white50);margin-bottom:24px}
.job-grid{display:grid;gap:16px}
.job-card{background:var(--card);border:1px solid var(--white10);border-radius:var(--radius);padding:24px;transition:all 0.3s;cursor:pointer}
.job-card:hover{border-color:var(--primary);box-shadow:0 0 24px rgba(0,229,255,0.1);transform:translateY(-2px)}
.job-card.featured{border-color:var(--accent);background:linear-gradient(135deg,rgba(255,107,0,0.05),rgba(255,107,0,0.02))}
.job-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;flex-wrap:wrap;gap:8px}
.job-title{font-size:1.15rem;font-weight:700}
.job-badges{display:flex;gap:6px;flex-wrap:wrap}
.badge{font-size:0.72rem;font-weight:600;padding:3px 10px;border-radius:12px;text-transform:uppercase;letter-spacing:0.5px}
.badge-type{background:rgba(0,229,255,0.15);color:var(--primary)}
.badge-location{background:rgba(255,255,255,0.08);color:var(--white70)}
.badge-urgent{background:rgba(255,107,0,0.15);color:var(--accent)}
.badge-remote{background:rgba(40,200,64,0.15);color:var(--green)}
.job-desc{font-size:0.9rem;color:var(--white70);margin-bottom:16px;line-height:1.6}
.job-tags{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:16px}
.job-tag{font-size:0.72rem;background:var(--white05);border:1px solid var(--white10);padding:3px 8px;border-radius:6px;color:var(--white50)}
.job-footer{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px}
.job-salary{font-weight:700;color:var(--accent);font-size:0.95rem}
.job-date{font-size:0.78rem;color:var(--white50)}
.job-apply-btn{background:linear-gradient(135deg,var(--accent),var(--accent-light));color:#fff;padding:8px 20px;border-radius:var(--radius-sm);font-weight:700;font-size:0.85rem;border:none;cursor:pointer;transition:all 0.3s}
.job-apply-btn:hover{transform:scale(1.05);box-shadow:0 4px 16px rgba(255,107,0,0.3);color:#fff}

/* APPLICATION MODAL */
.modal-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:200;overflow-y:auto;padding:20px}
.modal-overlay.open{display:flex;align-items:flex-start;justify-content:center}
.modal{background:var(--dark);border:1px solid var(--white20);border-radius:var(--radius);max-width:700px;width:100%;margin:40px auto;padding:0;position:relative}
.modal-header{padding:24px 28px;border-bottom:1px solid var(--white10);display:flex;justify-content:space-between;align-items:center}
.modal-header h2{font-size:1.3rem;font-weight:800}
.modal-close{background:none;border:none;color:var(--white50);font-size:1.5rem;cursor:pointer;padding:4px 8px;transition:color 0.3s}
.modal-close:hover{color:#fff}
.modal-body{padding:28px}

/* FORM */
.form-group{margin-bottom:20px}
.form-label{display:block;font-weight:600;font-size:0.9rem;margin-bottom:6px;color:var(--white90)}
.form-label .required{color:var(--red);margin-left:2px}
.form-hint{font-size:0.78rem;color:var(--white50);margin-bottom:6px}
.form-input,.form-select,.form-textarea{width:100%;background:var(--card);border:1px solid var(--white10);border-radius:var(--radius-sm);padding:12px 14px;color:#fff;font-size:0.95rem;font-family:inherit;transition:border-color 0.3s}
.form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(0,229,255,0.1)}
.form-textarea{min-height:100px;resize:vertical}
.form-select{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23999' d='M6 8L1 3h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center}
.form-select option{background:var(--dark);color:#fff}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media(max-width:600px){.form-row{grid-template-columns:1fr}}

/* FILE UPLOAD */
.file-upload{border:2px dashed var(--white20);border-radius:var(--radius);padding:24px;text-align:center;cursor:pointer;transition:all 0.3s;position:relative}
.file-upload:hover{border-color:var(--primary);background:rgba(0,229,255,0.03)}
.file-upload.dragover{border-color:var(--primary);background:rgba(0,229,255,0.08)}
.file-upload input[type="file"]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}
.file-upload .icon{font-size:2rem;margin-bottom:8px}
.file-upload .text{font-size:0.9rem;color:var(--white70)}
.file-upload .hint{font-size:0.78rem;color:var(--white50);margin-top:4px}
.file-name{margin-top:8px;font-size:0.85rem;color:var(--primary);font-weight:600}

/* FORM SUBMIT */
.form-submit{width:100%;background:linear-gradient(135deg,var(--accent),var(--accent-light));color:#fff;padding:14px;border-radius:var(--radius-sm);font-weight:700;font-size:1rem;border:none;cursor:pointer;transition:all 0.3s;margin-top:8px}
.form-submit:hover{transform:scale(1.02);box-shadow:0 8px 24px rgba(255,107,0,0.3)}
.form-submit:disabled{opacity:0.5;cursor:not-allowed;transform:none}

/* SUCCESS STATE */
.success-msg{text-align:center;padding:40px 20px}
.success-msg .icon{font-size:3rem;margin-bottom:16px}
.success-msg h3{font-size:1.3rem;font-weight:800;margin-bottom:8px;color:var(--green)}
.success-msg p{color:var(--white70);font-size:0.95rem}

/* PROCESS SECTION */
.process-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;margin-top:20px}
.process-card{background:var(--card);border:1px solid var(--white10);border-radius:var(--radius);padding:20px;text-align:center;position:relative}
.process-card .step{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--primary);color:var(--black);width:24px;height:24px;border-radius:50%;font-size:0.75rem;font-weight:800;display:flex;align-items:center;justify-content:center}
.process-card .icon{font-size:1.8rem;margin:8px 0 12px}
.process-card h4{font-weight:700;font-size:0.95rem;margin-bottom:6px}
.process-card p{font-size:0.78rem;color:var(--white50)}

/* VALUES */
.values-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;margin-top:20px}
.value-card{background:var(--card);border:1px solid var(--white10);border-radius:var(--radius);padding:20px}
.value-card .icon{font-size:1.5rem;margin-bottom:10px}
.value-card h4{font-weight:700;margin-bottom:6px}
.value-card p{font-size:0.85rem;color:var(--white50)}

/* NO JOBS */
.no-jobs{text-align:center;padding:40px;background:var(--card);border-radius:var(--radius);border:1px solid var(--white10)}
.no-jobs .icon{font-size:2.5rem;margin-bottom:12px}
.no-jobs h3{font-weight:700;margin-bottom:8px}
.no-jobs p{color:var(--white50);font-size:0.9rem}

/* FOOTER */
.footer{text-align:center;padding:40px 0;border-top:1px solid var(--white10);margin-top:40px}
.footer p{font-size:0.82rem;color:var(--white50)}
.footer a{color:var(--primary)}

/* TOAST */
.toast{position:fixed;bottom:20px;right:20px;background:var(--green);color:#fff;padding:12px 20px;border-radius:var(--radius-sm);font-weight:600;font-size:0.9rem;z-index:300;transform:translateY(100px);opacity:0;transition:all 0.4s}
.toast.show{transform:translateY(0);opacity:1}
.toast.error{background:var(--red)}

@media(max-width:600px){
  .hero{padding:40px 0 24px}
  .hero-stats{gap:16px}
  .process-grid{grid-template-columns:1fr 1fr}
  .values-grid{grid-template-columns:1fr}
  .job-header{flex-direction:column}
  .job-footer{flex-direction:column;align-items:flex-start}
}
</style>

<!-- SCHEMA.ORG JOB POSTING (dynamically injected by JS) -->
<script type="application/ld+json" id="jobPostingSchema">[]</script>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <div class="container nav-inner">
    <img src="https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/67630a6111b3975ed85ffd20.svg" alt="DDWL Logo" class="nav-logo" id="navLogo">
    <div class="nav-links">
      <a href="#jobs">Open Roles</a>
      <a href="#process">Our Process</a>
      <a href="#values">Why Join Us</a>
      <span class="nav-badge" id="jobCount">0 Open Roles</span>
    </div>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="container">
    <div class="hero-badge">We&rsquo;re Hiring</div>
    <h1>Build Your Career at <span id="heroCompany">DDWL</span></h1>
    <p id="heroDesc">Join a team that&rsquo;s closed 7,000+ deals and $500M+ in volume. We&rsquo;re not just building a company &mdash; we&rsquo;re building an empire. And we want you on the team.</p>
    <div class="hero-stats" id="heroStats">
      <div class="hero-stat"><div class="num">7,000+</div><div class="label">Deals Closed</div></div>
      <div class="hero-stat"><div class="num">$500M+</div><div class="label">Volume</div></div>
      <div class="hero-stat"><div class="num">Inc. 5000</div><div class="label">Recognized</div></div>
      <div class="hero-stat"><div class="num">500+</div><div class="label">Students Trained</div></div>
    </div>
  </div>
</section>

<!-- OPEN POSITIONS -->
<section class="section" id="jobs">
  <div class="container">
    <h2 class="section-title">Open Positions</h2>
    <p class="section-sub">Find your role. Every position comes with mentorship, real-world experience, and AI-powered tools.</p>
    <div class="job-grid" id="jobGrid">
      <!-- Jobs injected by JS -->
    </div>
  </div>
</section>

<!-- HIRING PROCESS -->
<section class="section" id="process">
  <div class="container">
    <h2 class="section-title">Our Hiring Process</h2>
    <p class="section-sub">Transparent, fast, and respectful of your time. Every applicant gets a response.</p>
    <div class="process-grid">
      <div class="process-card">
        <div class="step">1</div>
        <div class="icon">&#x1F4E4;</div>
        <h4>Apply</h4>
        <p>Submit your application and CV. Takes 5 minutes.</p>
      </div>
      <div class="process-card">
        <div class="step">2</div>
        <div class="icon">&#x1F50D;</div>
        <h4>Review</h4>
        <p>Our team reviews every application within 48 hours.</p>
      </div>
      <div class="process-card">
        <div class="step">3</div>
        <div class="icon">&#x1F4DE;</div>
        <h4>Interview</h4>
        <p>Video or phone call with the team. Casual, real conversation.</p>
      </div>
      <div class="process-card">
        <div class="step">4</div>
        <div class="icon">&#x1F389;</div>
        <h4>Decision</h4>
        <p>You&rsquo;ll hear back within 5 business days. Always.</p>
      </div>
    </div>
  </div>
</section>

<!-- WHY JOIN -->
<section class="section" id="values">
  <div class="container">
    <h2 class="section-title">Why Join <span id="valuesCompany">DDWL</span>?</h2>
    <p class="section-sub">We&rsquo;re not your average company. Here&rsquo;s what makes us different.</p>
    <div class="values-grid" id="valuesGrid">
      <div class="value-card">
        <div class="icon">&#x1F916;</div>
        <h4>AI-Powered Tools</h4>
        <p>Work with cutting-edge AI agents, automation, and tech that makes you 10x more effective.</p>
      </div>
      <div class="value-card">
        <div class="icon">&#x1F4B0;</div>
        <h4>Real Results</h4>
        <p>We don&rsquo;t do theory. Every day you&rsquo;re working on real deals with real impact.</p>
      </div>
      <div class="value-card">
        <div class="icon">&#x1F393;</div>
        <h4>Learn &amp; Grow</h4>
        <p>Mentorship from industry leaders. 30/60/90 day development plans. Your growth matters.</p>
      </div>
      <div class="value-card">
        <div class="icon">&#x1F91D;</div>
        <h4>Team Culture</h4>
        <p>Small team, big impact. Everyone&rsquo;s voice matters. No corporate nonsense.</p>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<div class="container">
  <div class="footer">
    <p id="footerText">DDWL Careers &mdash; Powered by <a href="https://exposuresolutions.me" target="_blank" rel="noopener">Exposure Solutions</a></p>
    <p style="margin-top:8px;font-size:0.75rem;color:rgba(255,255,255,0.3)">All applicants will receive a response regardless of outcome.</p>
  </div>
</div>

<!-- APPLICATION MODAL -->
<div class="modal-overlay" id="modalOverlay">
  <div class="modal">
    <div class="modal-header">
      <h2 id="modalTitle">Apply for Position</h2>
      <button class="modal-close" onclick="closeModal()" aria-label="Close">&times;</button>
    </div>
    <div class="modal-body" id="modalBody">
      <form id="applicationForm" onsubmit="submitApplication(event)">
        <input type="hidden" id="jobId" name="jobId">
        <input type="hidden" id="jobTitle" name="jobTitle">

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">First Name<span class="required">*</span></label>
            <input type="text" class="form-input" name="firstName" required placeholder="Your first name">
          </div>
          <div class="form-group">
            <label class="form-label">Last Name<span class="required">*</span></label>
            <input type="text" class="form-input" name="lastName" required placeholder="Your last name">
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Email<span class="required">*</span></label>
            <input type="email" class="form-input" name="email" required placeholder="your@email.com">
          </div>
          <div class="form-group">
            <label class="form-label">Phone<span class="required">*</span></label>
            <input type="tel" class="form-input" name="phone" required placeholder="+1 (555) 000-0000">
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Location</label>
          <input type="text" class="form-input" name="location" placeholder="City, State/Country">
        </div>

        <div class="form-group">
          <label class="form-label">LinkedIn Profile</label>
          <input type="url" class="form-input" name="linkedin" placeholder="https://linkedin.com/in/yourprofile">
        </div>

        <div class="form-group">
          <label class="form-label">Upload CV / Resume<span class="required">*</span></label>
          <div class="file-upload" id="fileUpload">
            <div class="icon">&#x1F4CE;</div>
            <div class="text">Drag &amp; drop your CV here or click to browse</div>
            <div class="hint">PDF, DOC, DOCX &mdash; Max 10MB</div>
            <input type="file" name="cv" id="cvFile" accept=".pdf,.doc,.docx" required>
            <div class="file-name" id="fileName"></div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Why do you want to join <span id="formCompany">DDWL</span>?<span class="required">*</span></label>
          <textarea class="form-textarea" name="coverNote" required placeholder="Tell us what excites you about this role and what you&rsquo;d bring to the team..."></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">How did you hear about us?</label>
          <select class="form-select" name="source">
            <option value="">Select...</option>
            <option value="google">Google Search</option>
            <option value="linkedin">LinkedIn</option>
            <option value="indeed">Indeed</option>
            <option value="glassdoor">Glassdoor</option>
            <option value="referral">Employee Referral</option>
            <option value="social">Social Media</option>
            <option value="website">Company Website</option>
            <option value="other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label class="form-label">Earliest Start Date</label>
          <input type="date" class="form-input" name="startDate">
        </div>

        <div class="form-group" style="margin-top:16px">
          <label style="display:flex;align-items:flex-start;gap:10px;cursor:pointer;font-size:0.85rem;color:var(--white70)">
            <input type="checkbox" name="consent" required style="margin-top:3px;flex-shrink:0">
            I consent to my data being stored and processed for recruitment purposes. I understand I will be contacted regarding my application status.<span class="required">*</span>
          </label>
        </div>

        <button type="submit" class="form-submit" id="submitBtn">Submit Application</button>
      </form>

      <div class="success-msg" id="successMsg" style="display:none">
        <div class="icon">&#x2705;</div>
        <h3>Application Submitted!</h3>
        <p>Thank you for applying. We review every application and you&rsquo;ll hear from us within 48 hours. Check your email for a confirmation.</p>
        <p style="margin-top:16px;font-size:0.85rem;color:rgba(255,255,255,0.5)">Application reference: <strong id="appRef"></strong></p>
      </div>
    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<!-- SCRIPTS -->
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
WebFont.load({
  google:{families:['Inter:400,500,600,700','Playfair Display:700,800,900']},
  active:function(){
    document.body.style.fontFamily="'Inter',-apple-system,sans-serif";
    document.querySelectorAll('h1,h2,h3').forEach(function(el){
      if(el.closest('.modal')||el.closest('.process-card')||el.closest('.value-card'))return;
      el.style.fontFamily="'Playfair Display',Georgia,serif";
    });
  }
});

// ============================================================
// JOBS DATA — Edit this array to add/remove/update job postings
// This is the ONLY section you need to change for new jobs
// ============================================================
var JOBS = [
  {
    id: "admin-assistant-001",
    title: "Administrative Assistant",
    type: "Full-Time",
    location: "Tampa, FL",
    remote: false,
    department: "Operations",
    salary: "Competitive",
    featured: true,
    urgent: true,
    posted: "2026-02-13",
    expires: "2026-03-15",
    description: "Support the operations team with day-to-day administrative tasks, CRM management, client communications, and scheduling. You'll work directly with our leadership team and AI tools to keep everything running smoothly.",
    requirements: [
      "Strong organizational skills",
      "Experience with CRM systems (GHL preferred)",
      "Excellent written and verbal communication",
      "Comfortable with technology and AI tools",
      "Self-starter who can work independently"
    ],
    tags: ["CRM", "Admin", "Operations", "AI Tools", "Google Workspace"]
  },
  {
    id: "deal-analyst-001",
    title: "Deal Analyst",
    type: "Full-Time",
    location: "Tampa, FL",
    remote: true,
    department: "Acquisitions",
    salary: "$45K - $65K + Bonuses",
    featured: false,
    urgent: false,
    posted: "2026-02-13",
    expires: "2026-04-01",
    description: "Analyze real estate deals, run comps, evaluate properties, and support the acquisitions team. You'll learn from a team that's closed 7,000+ deals and $500M+ in volume.",
    requirements: [
      "Interest in real estate investing",
      "Analytical mindset with attention to detail",
      "Proficiency in spreadsheets and data analysis",
      "Ability to learn quickly and adapt",
      "Real estate experience preferred but not required"
    ],
    tags: ["Real Estate", "Analysis", "Acquisitions", "Data", "Investment"]
  }
];

// ============================================================
// CONFIG — Change this to swap branding
// ============================================================
var CONFIG = {
  client: "ddwl",
  companyName: "Do Deals With Lee",
  shortName: "DDWL",
  website: "https://dodealswithlee.com",
  logo: "https://storage.googleapis.com/msgsndr/KbiucErIMNPbO1mY4qXL/media/67630a6111b3975ed85ffd20.svg",
  ghlWebhook: "https://services.leadconnectorhq.com/hooks/KbiucErIMNPbO1mY4qXL/webhook-trigger/mCdlXsgchQ4v9BQeIa9E",
  ghlProxy: "https://ghl-proxy-blush.vercel.app",
  adminEmails: {
    primary: "admin@dodealswithlee.com",
    notifications: ["krystle.gordon@dodealswithlee.com", "lee.kearney@dodealswithlee.com"]
  },
  location: {
    city: "Tampa",
    state: "FL",
    country: "US"
  }
};

// ============================================================
// RENDER JOBS
// ============================================================
function renderJobs() {
  var grid = document.getElementById('jobGrid');
  var activeJobs = JOBS.filter(function(j) {
    return !j.expires || new Date(j.expires) > new Date();
  });

  document.getElementById('jobCount').textContent = activeJobs.length + ' Open Role' + (activeJobs.length !== 1 ? 's' : '');

  if (activeJobs.length === 0) {
    grid.innerHTML = '<div class="no-jobs"><div class="icon">&#x1F50E;</div><h3>No Open Positions Right Now</h3><p>We&rsquo;re not hiring at the moment, but we&rsquo;re always interested in great people. Send your CV to <a href="mailto:' + CONFIG.adminEmails.primary + '">' + CONFIG.adminEmails.primary + '</a> and we&rsquo;ll keep you on file.</p></div>';
    return;
  }

  grid.innerHTML = activeJobs.map(function(job) {
    var badges = '<span class="badge badge-type">' + job.type + '</span>';
    badges += '<span class="badge badge-location">' + job.location + '</span>';
    if (job.remote) badges += '<span class="badge badge-remote">Remote OK</span>';
    if (job.urgent) badges += '<span class="badge badge-urgent">Urgent</span>';

    var tags = (job.tags || []).map(function(t) { return '<span class="job-tag">' + t + '</span>'; }).join('');

    var daysAgo = Math.floor((new Date() - new Date(job.posted)) / 86400000);
    var dateText = daysAgo === 0 ? 'Posted today' : daysAgo === 1 ? 'Posted yesterday' : 'Posted ' + daysAgo + ' days ago';

    return '<div class="job-card' + (job.featured ? ' featured' : '') + '" onclick="openApplication(\'' + job.id + '\')">' +
      '<div class="job-header"><div class="job-title">' + job.title + '</div><div class="job-badges">' + badges + '</div></div>' +
      '<div class="job-desc">' + job.description + '</div>' +
      '<div class="job-tags">' + tags + '</div>' +
      '<div class="job-footer"><div class="job-salary">' + job.salary + '</div><div class="job-date">' + dateText + '</div>' +
      '<button class="job-apply-btn" onclick="event.stopPropagation();openApplication(\'' + job.id + '\')">Apply Now</button></div></div>';
  }).join('');

  // Inject schema.org JobPosting structured data
  var schema = activeJobs.map(function(job) {
    return {
      "@context": "https://schema.org",
      "@type": "JobPosting",
      "title": job.title,
      "description": job.description,
      "datePosted": job.posted,
      "validThrough": job.expires || "",
      "employmentType": job.type.toUpperCase().replace('-', '_'),
      "hiringOrganization": {
        "@type": "Organization",
        "name": CONFIG.companyName,
        "sameAs": CONFIG.website,
        "logo": CONFIG.logo
      },
      "jobLocation": {
        "@type": "Place",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": CONFIG.location.city,
          "addressRegion": CONFIG.location.state,
          "addressCountry": CONFIG.location.country
        }
      },
      "jobLocationType": job.remote ? "TELECOMMUTE" : undefined,
      "applicantLocationRequirements": job.remote ? {"@type": "Country", "name": CONFIG.location.country} : undefined
    };
  });
  document.getElementById('jobPostingSchema').textContent = JSON.stringify(schema);
}

// ============================================================
// APPLICATION MODAL
// ============================================================
function openApplication(jobId) {
  var job = JOBS.find(function(j) { return j.id === jobId; });
  if (!job) return;

  document.getElementById('jobId').value = job.id;
  document.getElementById('jobTitle').value = job.title;
  document.getElementById('modalTitle').textContent = 'Apply: ' + job.title;
  document.getElementById('applicationForm').style.display = 'block';
  document.getElementById('successMsg').style.display = 'none';
  document.getElementById('applicationForm').reset();
  document.getElementById('fileName').textContent = '';
  document.getElementById('modalOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('modalOverlay').classList.remove('open');
  document.body.style.overflow = '';
}

document.getElementById('modalOverlay').addEventListener('click', function(e) {
  if (e.target === this) closeModal();
});

// File upload display
document.getElementById('cvFile').addEventListener('change', function() {
  var name = this.files[0] ? this.files[0].name : '';
  document.getElementById('fileName').textContent = name;
});

// Drag and drop
var fileUpload = document.getElementById('fileUpload');
fileUpload.addEventListener('dragover', function(e) { e.preventDefault(); this.classList.add('dragover'); });
fileUpload.addEventListener('dragleave', function() { this.classList.remove('dragover'); });
fileUpload.addEventListener('drop', function(e) {
  e.preventDefault();
  this.classList.remove('dragover');
  var input = document.getElementById('cvFile');
  input.files = e.dataTransfer.files;
  document.getElementById('fileName').textContent = e.dataTransfer.files[0] ? e.dataTransfer.files[0].name : '';
});

// ============================================================
// SUBMIT APPLICATION
// ============================================================
function submitApplication(e) {
  e.preventDefault();
  var btn = document.getElementById('submitBtn');
  btn.disabled = true;
  btn.textContent = 'Submitting...';

  var form = document.getElementById('applicationForm');
  var formData = new FormData(form);
  var data = {};
  formData.forEach(function(val, key) {
    if (key !== 'cv' && key !== 'consent') data[key] = val;
  });

  // Generate reference
  var ref = CONFIG.shortName + '-' + Date.now().toString(36).toUpperCase();
  data.applicationRef = ref;
  data.appliedAt = new Date().toISOString();
  data.client = CONFIG.client;
  data.status = 'new-application';

  // Handle CV file — convert to base64 for webhook
  var cvFile = document.getElementById('cvFile').files[0];
  if (cvFile) {
    data.cvFileName = cvFile.name;
    data.cvFileSize = cvFile.size;
    data.cvFileType = cvFile.type;
  }

  // Send to GHL webhook
  sendToGHL(data, ref, btn);
}

function sendToGHL(data, ref, btn) {
  var payload = {
    type: 'job-application',
    firstName: data.firstName,
    lastName: data.lastName,
    email: data.email,
    phone: data.phone,
    location: data.location,
    linkedin: data.linkedin,
    jobId: data.jobId,
    jobTitle: data.jobTitle,
    coverNote: data.coverNote,
    source: data.source,
    startDate: data.startDate,
    applicationRef: data.applicationRef,
    appliedAt: data.appliedAt,
    cvFileName: data.cvFileName || '',
    tags: ['job-applicant', 'new-application', data.jobId]
  };

  // Save to localStorage for admin dashboard pickup
  try {
    var pending = JSON.parse(localStorage.getItem('ddwl_pending_applications')) || [];
    pending.push(payload);
    localStorage.setItem('ddwl_pending_applications', JSON.stringify(pending));
  } catch(e) { console.error('localStorage save error:', e); }

  // Send to GHL webhook
  fetch(CONFIG.ghlWebhook, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload)
  })
  .then(function(res) {
    showSuccess(ref);
  })
  .catch(function(err) {
    // Still show success — data saved locally and may have been received by GHL
    console.error('Webhook error:', err);
    showSuccess(ref);
  });
}

function showSuccess(ref) {
  document.getElementById('applicationForm').style.display = 'none';
  document.getElementById('appRef').textContent = ref;
  document.getElementById('successMsg').style.display = 'block';
  showToast('Application submitted successfully!');
}

function showToast(msg, isError) {
  var toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.className = 'toast show' + (isError ? ' error' : '');
  setTimeout(function() { toast.className = 'toast'; }, 4000);
}

// ============================================================
// INIT
// ============================================================
renderJobs();
</script>

</body>
</html>
